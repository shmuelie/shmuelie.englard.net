{"version":3,"sources":["drop-in-blog/schema-converters.ts","drop-in-blog/schema-converters.js"],"names":["isFullPost","post","convertAuthor","author","_a","_b","_c","id","toString","identifier","slug","name","image","photo","description","bio","convertPost","blogPosting","abstract","summary","featuredImage","headline","title","datePublished","publishedAt","dateModified","updatedAt","keywords","keyword","articleBody","content"],"mappings":"OAOM,SAAUA,WAAWC,GACvB,MAAO,YAAaA,CACxB,QAEM,SAAUC,cAAcC,GCP1B,IAAIC,EAAIC,EAAIC,EDQZ,GAAIH,EAAQ,CACR,MAAMI,EAA0B,QAArBF,EAAS,QAATD,EAAAD,EAAOI,UAAE,IAAAH,OAAA,EAAAA,EAAEI,kBAAU,IAAAH,EAAAA,EAAI,IACpC,MAAO,CACH,QAAS,SACT,MAAOE,EACPE,WAAuB,QAAXH,EAAAH,EAAOO,YAAI,IAAAJ,EAAAA,EAAIC,EAC3BI,KAAMR,EAAOQ,KACbC,MAAOT,EAAOU,MACdC,YAAaX,EAAOY,IAE5B,CAEJ,QAEM,SAAUC,YAAYf,GCPxB,IAAIG,EAAIC,EAAIC,EDQZ,MAAMC,EAAwB,QAAnBF,EAAO,QAAPD,EAAAH,EAAKM,UAAE,IAAAH,OAAA,EAAAA,EAAEI,kBAAU,IAAAH,EAAAA,EAAI,IAClC,IAAIY,EAA2B,CAC3B,QAAS,cACT,MAAOV,EACPE,WAAqB,QAATH,EAAAL,EAAKS,YAAI,IAAAJ,EAAAA,EAAIC,EACzBW,SAAUjB,EAAKkB,QACfP,MAAOX,EAAKmB,cACZC,SAAUpB,EAAKqB,MACfC,cAAetB,EAAKuB,YACpBC,aAAcxB,EAAKyB,UACnBC,SAAU1B,EAAK2B,QACfzB,OAAQD,cAAcD,EAAKE,SAO/B,OAJIH,WAAWC,KACXgB,EAAYY,YAAc5B,EAAK6B,SAG5Bb,CACX","file":"schema-converters.js","sourcesContent":["import { BlogPosting, Person } from '../../data/schema';\nimport { Author as ListAuthor, Post as PostSummary } from './posts.js'\nimport { Author as PostAuthor, Post as FullPost } from './post.js'\n\nexport type Post = PostSummary | FullPost;\nexport type Author = ListAuthor | PostAuthor;\n\nexport function isFullPost(post: Post): post is FullPost {\n    return 'content' in post;\n}\n\nexport function convertAuthor(author: Author | undefined) : Person | undefined {\n    if (author) {\n        const id = author.id?.toString() ?? '0';\n        return {\n            \"@type\": \"Person\",\n            \"@id\": id,\n            identifier: author.slug ?? id,\n            name: author.name,\n            image: author.photo,\n            description: author.bio,\n        };\n    }\n    return undefined;\n}\n\nexport function convertPost(post: Post) : BlogPosting {\n    const id = post.id?.toString() ?? '0';\n    let blogPosting: BlogPosting = {\n        \"@type\": \"BlogPosting\",\n        \"@id\": id,\n        identifier: post.slug ?? id,\n        abstract: post.summary,\n        image: post.featuredImage,\n        headline: post.title,\n        datePublished: post.publishedAt,\n        dateModified: post.updatedAt,\n        keywords: post.keyword,\n        author: convertAuthor(post.author)\n    };\n\n    if (isFullPost(post)) {\n        blogPosting.articleBody = post.content;\n    }\n\n    return blogPosting;\n}",null]}